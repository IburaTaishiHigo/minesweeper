(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(85)}])},85:function(e,n,t){"use strict";t.r(n);var s=t(5893),a=t(7294),o=t(7281),c=t.n(o);let i=()=>{let e=(e,n,t)=>{let s=[];for(let a=0;a<n;a++){let n=[];for(let s=0;s<e;s++)n.push(t);s.push(n)}return s},[n,t]=(0,a.useState)(e(9,9,0)),[o,i]=(0,a.useState)(e(9,9,0)),[r,m]=(0,a.useState)({startTime:0,currentTime:0}),l=0,u=n[0].length,d=n.length,_=e(u,d,-1),x=[[-1,0],[-1,-1],[0,-1],[1,-1],[1,0],[1,1],[0,1],[-1,1]],f=n.every(e=>e.every(e=>1!==e)),h=(e,n)=>{let t=0;for(let s of x)void 0!==o[n+s[1]]&&1===o[n+s[1]][e+s[0]]&&t++;if(_[n][e]=t,0===t)for(let t of x)void 0!==_[n+t[1]]&&(-1===_[n+t[1]][e+t[0]]||9===_[n+t[1]][e+t[0]]||10===_[n+t[1]][e+t[0]])&&h(e+t[0],n+t[1])},N=(e,n)=>{let t=0,s=JSON.parse(JSON.stringify(o));for(;t<10;){let a=Math.floor(Math.random()*u*d),o=a%u,c=Math.floor(a/u);0===s[c][o]&&!(o===e&&c===n)&&(s[c][o]=1,t++)}i(s)},v=(e,t)=>{l=3;for(let e=0;e<u;e++)for(let t=0;t<d;t++)o[t][e]&&n[t][e]<2&&(_[t][e]=11);_[t][e]=12},b=(e,s)=>{let a=0,c=0;for(let t of x)void 0!==_[s+t[1]]&&_[s+t[1]][e+t[0]]&&(a+=3===n[s+t[1]][e+t[0]]?1:0,c+=o[s+t[1]][e+t[0]]);if(a===c){let a=JSON.parse(JSON.stringify(n));for(let n of x)void 0!==_[s+n[1]]&&_[s+n[1]][e+n[0]]<9&&(a[s+n[1]][e+n[0]]=1);t(a)}},p=()=>{t(e(u,d,0)),i(e(u,d,0)),m({startTime:0,currentTime:0}),l=0},j=()=>{let e=0;for(let n=0;n<u;n++)for(let t=0;t<d;t++)(-1===_[t][n]||9===_[t][n]||10===_[t][n])&&e++;if(10===e){l=2;for(let e=0;e<u;e++)for(let n=0;n<d;n++)1===o[n][e]&&(_[n][e]=10)}},T=s=>{if(void 0!==s&&s>0&&s<100){let a=n.length;p(),t(e(s,a,0)),i(e(s,a,0))}},w=s=>{if(void 0!==s&&s>0&&s<100){let a=n[0].length;p(),t(e(a,s,0)),i(e(a,s,0))}},g=e=>{let t=10;for(let e=0;e<u;e++)for(let s=0;s<d;s++)3===n[s][e]&&t--;switch(e){case 1:return Math.floor(Math.abs(t)%10);case 2:return Math.floor(Math.abs(t)%100/10);case 3:if(t<0)return"minus";return Math.floor(t/100)}};(()=>{f||(l=1);for(let e=0;e<u;e++)for(let t=0;t<d;t++)switch(n[t][e]){case 1:f||o[t][e]||h(e,t),1===o[t][e]&&v(e,t);break;case 2:case 3:-1===_[t][e]&&(_[t][e]=n[t][e]+7)}j()})();let M=(e,s,a)=>{if(0===a.button&&l<=1){if(f&&(l=1,N(e,s),m({startTime:Date.now(),currentTime:Date.now()})),-1===_[s][e]){let a=JSON.parse(JSON.stringify(n));a[s][e]=1,t(a)}else _[s][e]>0&&_[s][e]<9&&b(e,s)}},S=(e,s,a)=>{a.preventDefault();let o=JSON.parse(JSON.stringify(n));switch(_[s][e]){case -1:o[s][e]=3,_[s][e]=10;break;case 9:o[s][e]=0,_[s][e]=0;break;case 10:o[s][e]=2,_[s][e]}t(o)};return(0,s.jsx)("div",{className:c().container,children:(0,s.jsxs)("div",{className:c().minesweeper,children:[(0,s.jsxs)("header",{className:c().header,children:[(0,s.jsxs)("div",{className:c().counter,children:[(0,s.jsxs)("div",{className:"".concat(c().num," ").concat(c()["num-".concat(g(3))]),children:[(0,s.jsx)("div",{className:c()["num-top"]}),(0,s.jsx)("div",{className:c()["num-bottom"]})]}),(0,s.jsxs)("div",{className:"".concat(c().num," ").concat(c()["num-".concat(g(2))]),children:[(0,s.jsx)("div",{className:c()["num-top"]}),(0,s.jsx)("div",{className:c()["num-bottom"]})]}),(0,s.jsxs)("div",{className:"".concat(c().num," ").concat(c()["num-".concat(g(1))]),children:[(0,s.jsx)("div",{className:c()["num-top"]}),(0,s.jsx)("div",{className:c()["num-bottom"]})]})]}),(0,s.jsx)("button",{className:c()["reset-button"],onClick:p,style:{backgroundPosition:l?"".concat(-((l+10)*100),"%"):"-1100%"}}),(0,s.jsxs)("div",{className:c().counter,children:[(0,s.jsxs)("div",{className:"".concat(c().num," ").concat(c()["num-".concat(Math.floor((r.currentTime-r.startTime)/1e5))]),children:[(0,s.jsx)("div",{className:c()["num-top"]}),(0,s.jsx)("div",{className:c()["num-bottom"]})]}),(0,s.jsxs)("div",{className:"".concat(c().num," ").concat(c()["num-".concat(Math.floor((r.currentTime-r.startTime)%1e5/1e4))]),children:[(0,s.jsx)("div",{className:c()["num-top"]}),(0,s.jsx)("div",{className:c()["num-bottom"]})]}),(0,s.jsxs)("div",{className:"".concat(c().num," ").concat(c()["num-".concat(Math.floor((r.currentTime-r.startTime)%1e4/1e3))]),children:[(0,s.jsx)("div",{className:c()["num-top"]}),(0,s.jsx)("div",{className:c()["num-bottom"]})]})]})]}),(0,s.jsx)("div",{className:c().board,style:{gridTemplate:"repeat(".concat(d,", 1fr) / repeat(").concat(u,", 1fr)")},children:_.map((e,n)=>e.map((e,t)=>(0,s.jsxs)("div",{className:"".concat(c().cell," ").concat(o[n][t]?c()["has-bomb"]:""),style:{backgroundColor:12===_[n][t]?"#f00":"#0000"},onContextMenu:e=>S(t,n,e),onMouseUp:e=>M(t,n,e),children:[(-1===_[n][t]||_[n][t]>8&&_[n][t]<11)&&(0,s.jsx)("div",{className:c().stone,children:(9===_[n][t]||10===_[n][t])&&(0,s.jsx)("div",{className:c().icon,style:{backgroundPosition:"".concat(-((_[n][t]-1)*100),"%")}})}),0!==_[n][t]&&(0,s.jsx)("div",{className:c().icon,style:{backgroundPosition:12===_[n][t]?"-1000%":"".concat(-((_[n][t]-1)*100),"%")}})]},"".concat(t,"_").concat(n))))}),(0,s.jsxs)("footer",{className:c().footer,children:[(0,s.jsx)("input",{type:"number",name:"width",value:u,min:"1",max:"50",onInput:e=>T(parseInt(e.currentTarget.value))}),(0,s.jsx)("input",{type:"number",name:"height",value:d,min:"1",max:"50",onInput:e=>w(parseInt(e.currentTarget.value))})]})]})})};n.default=i},7281:function(e){e.exports={container:"index_container__twYoi",minesweeper:"index_minesweeper__TfUA1",board:"index_board__j13uV",stone:"index_stone__H6x28",icon:"index_icon__IdCia",cell:"index_cell__HHk1K",header:"index_header__8k7Yb","reset-button":"index_reset-button__2gOUG",counter:"index_counter__H_TOO",num:"index_num__lqb6x","num-top":"index_num-top__MKSJb","num-bottom":"index_num-bottom__0b8sV","num-1":"index_num-1__wSf4I","num-2":"index_num-2__Lwi8R","num-3":"index_num-3__n2mia","num-4":"index_num-4__SYOvY","num-5":"index_num-5__HT56m","num-6":"index_num-6__Kyfsl","num-7":"index_num-7__8_Nfj","num-9":"index_num-9__8WENU","num-0":"index_num-0__J57MV","num-minus":"index_num-minus__J9BWS","has-bomb":"index_has-bomb__U9_Yq"}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);